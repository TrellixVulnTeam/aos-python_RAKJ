{
    "definitions": {
        "attributeString": {
            "oneOf": [
                {
                    "pattern": "\\|VmPeak$"
                },
                {
                    "pattern": "\\|VmSize$"
                },
                {
                    "pattern": "\\|VmLck$"
                },
                {
                    "pattern": "\\|VmPin$"
                },
                {
                    "pattern": "\\|VmHWM$"
                },
                {
                    "pattern": "\\|VmRSS$"
                },
                {
                    "pattern": "\\|VmData$"
                },
                {
                    "pattern": "\\|VmStk$"
                },
                {
                    "pattern": "\\|VmExe$"
                },
                {
                    "pattern": "\\|VmLib$"
                },
                {
                    "pattern": "\\|VmPTE$"
                },
                {
                    "pattern": "\\|VmSwap$"
                }
            ]
        },
        "procMemoryString": {
            "oneOf": [
                {
                    "pattern": "^[^\\|]+\\|memory\\|[^\\|]+$"
                },
                {
                    "pattern": "^[^\\|]+\\|memory_rate\\|[^\\|]+$"
                }
            ]
        },
        "procNameString": {
            "pattern": "^[^\\|]+\\|"
        },
        "systemMemoryString": {
            "pattern": "^system\\|(memory|memory_rate)$"
        }
    },
    "properties": {
        "identity": {
            "oneOf": [
                {
                    "$ref": "#/definitions/systemMemoryString"
                },
                {
                    "allOf": [
                        {
                            "$ref": "#/definitions/procNameString"
                        },
                        {
                            "$ref": "#/definitions/procMemoryString"
                        },
                        {
                            "$ref": "#/definitions/attributeString"
                        }
                    ]
                }
            ],
            "type": "string"
        },
        "value": {
            "pattern": "^((-?([1-9][0-9]*))|0)$",
            "type": "string"
        }
    },
    "required": [
        "identity",
        "value"
    ],
    "type": "object"
}
