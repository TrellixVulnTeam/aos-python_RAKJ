{"label": "Data_Plane - Bandwidth utilization", "description": "The probe calculates interfaces bandwidth", "processors": [{"inputs": {}, "type": "if_counter", "name": "Egress traffic", "outputs": {"out": "egress_traffic"}, "properties": {"group": "str('mlag_peer' if link.role in ['leaf_peer_link', 'leaf_l3_peer_link'] else ('leaf_server' if 'server' in link.role else link.role))", "description": "str(interface.description or '')", "graph_query": "node('system', name='system', system_type='switch', deploy_mode='deploy').out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet', 'port_channel']), name='interface').out('link').node('link', name='link')", "interface": "interface.if_name", "system_id": "system.system_id", "enable_streaming": false, "counter_type": "tx_bps"}}, {"inputs": {}, "type": "if_counter", "name": "Ingress traffic", "outputs": {"out": "ingress_traffic"}, "properties": {"group": "str('mlag_peer' if link.role in ['leaf_peer_link', 'leaf_l3_peer_link'] else ('leaf_server' if 'server' in link.role else link.role))", "description": "str(interface.description or '')", "graph_query": "node('system', name='system', system_type='switch', deploy_mode='deploy').out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet', 'port_channel']), name='interface').out('link').node('link', name='link')", "interface": "interface.if_name", "system_id": "system.system_id", "enable_streaming": false, "counter_type": "rx_bps"}}, {"inputs": {"in": "egress_traffic"}, "type": "periodic_average", "name": "Egress traffic first summary", "outputs": {"out": "egress_traffic_first_summary"}, "properties": {"enable_streaming": false, "period": 60, "graph_query": []}}, {"inputs": {"in": "ingress_traffic"}, "type": "periodic_average", "name": "Ingress traffic first summary", "outputs": {"out": "ingress_traffic_first_summary"}, "properties": {"enable_streaming": false, "period": 60, "graph_query": []}}, {"inputs": {"in": "egress_traffic_first_summary"}, "type": "sum", "name": "Bucketed egress traffic", "outputs": {"out": "egress_by_group_traffic"}, "properties": {"enable_streaming": false, "group_by": ["group"]}}, {"inputs": {"in": "ingress_traffic_first_summary"}, "type": "sum", "name": "Bucketed ingress traffic", "outputs": {"out": "ingress_by_group_traffic"}, "properties": {"enable_streaming": false, "group_by": ["group"]}}, {"inputs": {"in": "egress_traffic_first_summary"}, "type": "periodic_average", "name": "Egress traffic second summary", "outputs": {"out": "egress_traffic_second_summary"}, "properties": {"enable_streaming": false, "period": 3600, "graph_query": []}}, {"inputs": {"in": "ingress_traffic_first_summary"}, "type": "periodic_average", "name": "Ingress traffic second summary", "outputs": {"out": "ingress_traffic_second_summary"}, "properties": {"enable_streaming": false, "period": 3600, "graph_query": []}}, {"inputs": {"in": "egress_by_group_traffic"}, "type": "periodic_average", "name": "Egress by group traffic first summary", "outputs": {"out": "egress_by_group_traffic_first_summary"}, "properties": {"enable_streaming": false, "period": 60, "graph_query": []}}, {"inputs": {"in": "ingress_by_group_traffic"}, "type": "periodic_average", "name": "Ingress by group traffic first summary", "outputs": {"out": "ingress_by_group_traffic_first_summary"}, "properties": {"enable_streaming": false, "period": 60, "graph_query": []}}, {"inputs": {"in": "egress_by_group_traffic_first_summary"}, "type": "periodic_average", "name": "Egress by group traffic second summary", "outputs": {"out": "egress_by_group_traffic_second_summary"}, "properties": {"enable_streaming": false, "period": 3600, "graph_query": []}}, {"inputs": {"in": "ingress_by_group_traffic_first_summary"}, "type": "periodic_average", "name": "Ingress by group traffic second summary", "outputs": {"out": "ingress_by_group_traffic_second_summary"}, "properties": {"enable_streaming": false, "period": 3600, "graph_query": []}}], "stages": [{"name": "ingress_traffic_second_summary", "enable_metric_logging": true, "retention_duration": 2592000, "units": "bps"}, {"name": "egress_by_group_traffic", "retention_duration": 86400, "units": "bps"}, {"name": "ingress_by_group_traffic_first_summary", "enable_metric_logging": true, "retention_duration": 3600, "units": "bps"}, {"name": "ingress_by_group_traffic_second_summary", "enable_metric_logging": true, "retention_duration": 2592000, "units": "bps"}, {"name": "ingress_traffic", "retention_duration": 86400, "units": "bps"}, {"name": "egress_traffic_first_summary", "enable_metric_logging": true, "retention_duration": 3600, "units": "bps"}, {"name": "ingress_by_group_traffic", "retention_duration": 86400, "units": "bps"}, {"name": "egress_traffic_second_summary", "enable_metric_logging": true, "retention_duration": 2592000, "units": "bps"}, {"name": "egress_by_group_traffic_first_summary", "enable_metric_logging": true, "retention_duration": 3600, "units": "bps"}, {"name": "egress_by_group_traffic_second_summary", "enable_metric_logging": true, "retention_duration": 2592000, "units": "bps"}, {"name": "ingress_traffic_first_summary", "enable_metric_logging": true, "retention_duration": 3600, "units": "bps"}, {"name": "egress_traffic", "retention_duration": 86400, "units": "bps"}], "disabled": true}