{"label": "Capacity_Planning - junos Unicast route usage", "processors": [{"inputs": {}, "type": "generic_data_collector", "name": "Unicast Route Breakdown per VRF", "outputs": {"out": "unicast_route_breakdown"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy').out('interface_map').node('interface_map').out('device_profile').node('device_profile',name='device_type_node').where(lambda device_type_node: 'junos'.lower() in device_type_node.label.lower()))", "data_type": "ts", "service_interval": "120", "service_name": "table_usage", "device_type": "str(device_type_node.label)", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'ip_routes'", "enable_streaming": false}}, {"inputs": {}, "type": "generic_data_collector", "name": "Unicast Route count collector", "outputs": {"out": "unicast_route_table_usage"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy').out('interface_map').node('interface_map').out('device_profile').node('device_profile',name='device_type_node').where(lambda device_type_node: 'junos'.lower() in device_type_node.label.lower()))", "data_type": "ns", "service_interval": "120", "service_name": "table_usage", "device_type": "str(device_type_node.label)", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'total|num_ip_routes'", "enable_streaming": false}}, {"inputs": {"in": "unicast_route_table_usage"}, "type": "range_check", "name": "Check if unicast routing table usage exceeds threshold", "outputs": {"out": "unicast_routes_overloaded_systems"}, "properties": {"graph_query": [], "anomaly_retention_size": 1073741824, "anomaly_retention_duration": 86400, "range": {"min": 1001}, "raise_anomaly": true, "enable_streaming": false, "property": "value", "enable_anomaly_logging": false}}], "stages": [{"name": "unicast_routes_overloaded_systems", "retention_duration": 86400}, {"name": "unicast_route_table_usage", "retention_duration": 86400}, {"name": "unicast_route_breakdown", "retention_duration": 86400}], "disabled": true}