{"label": "Data_Plane - Spine TX-RX Discrepancy (Blackhole Detection)", "processors": [{"inputs": {}, "type": "if_counter", "name": "Per Interface RX bps - Real Time", "outputs": {"out": "Per Interface RX bps - Real Time"}, "properties": {"interface": "interface.if_name", "enable_streaming": false, "system_id": "system.system_id", "graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "counter_type": "rx_bps"}}, {"inputs": {}, "type": "if_counter", "name": "Per Interface TX bps - Real Time", "outputs": {"out": "Per Interface TX bps - Real Time"}, "properties": {"interface": "interface.if_name", "enable_streaming": false, "system_id": "system.system_id", "graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "counter_type": "tx_bps"}}, {"inputs": {"in": "Per Interface RX bps - Real Time"}, "type": "sum", "name": "Per Switch Total RX bps - Real Time -v1 ", "outputs": {"out": "Per Switch Total RX bps - Real Time -v1 "}, "properties": {"enable_streaming": false, "group_by": ["system_id"]}}, {"inputs": {"in": "Per Interface RX bps - Real Time"}, "type": "sum", "name": "Per Switch Total RX bps - Real Time -v2 ", "outputs": {"out": "Per Switch Total RX bps - Real Time -v2"}, "properties": {"enable_streaming": false, "group_by": ["system_id"]}}, {"inputs": {"in": "Per Interface TX bps - Real Time"}, "type": "sum", "name": "Per Switch Total TX bps - Real Time-v1", "outputs": {"out": "Per Switch Total TX bps - Real Time-v1"}, "properties": {"enable_streaming": false, "group_by": ["system_id"]}}, {"inputs": {"in": "Per Interface TX bps - Real Time"}, "type": "sum", "name": "Per Switch Total TX bps - Real Time-v2", "outputs": {"out": "Per Switch Total TX bps - Real Time-v2"}, "properties": {"enable_streaming": false, "group_by": ["system_id"]}}, {"inputs": {"subtrahend": "Per Switch Total RX bps - Real Time -v1 ", "minuend": "Per Switch Total TX bps - Real Time-v1"}, "type": "subtract", "name": "TX RX Difference - Real Time", "outputs": {"out": "TX RX Difference - Real Time"}, "properties": {"enable_streaming": false, "significant_keys": []}}, {"inputs": {"in": "TX RX Difference - Real Time"}, "type": "range_check", "name": "TX RX 1Mbps Deviation - Real Time", "outputs": {"out": "TX RX 1Mbps Deviation - Real Time"}, "properties": {"graph_query": [], "anomaly_retention_size": 1073741824, "anomaly_retention_duration": 86400, "range": {"max": 1000000, "min": -1000000}, "raise_anomaly": false, "enable_streaming": false, "property": "value", "enable_anomaly_logging": false}}, {"inputs": {"in": "TX RX 1Mbps Deviation - Real Time"}, "type": "time_in_state_check", "name": "TX RX 1Mbps Deviation - 1 Minute Sustained", "outputs": {"out": "TX RX 1Mbps Deviation - 1 Minute Sustained"}, "properties": {"time_window": 65, "graph_query": [], "anomaly_retention_size": 1073741824, "anomaly_retention_duration": 86400, "state_range": {"\"false\"": [{"max": 60}]}, "raise_anomaly": true, "enable_streaming": false, "enable_anomaly_logging": false}}, {"inputs": {"in": "TX RX 1Mbps Deviation - Real Time"}, "type": "time_in_state_check", "name": "TX RX 1Mbps Deviation - 5 Minutes Sustained", "outputs": {"out": "TX RX 1Mbps Deviation - 5 Minutes Sustained"}, "properties": {"time_window": 305, "graph_query": [], "anomaly_retention_size": 1073741824, "anomaly_retention_duration": 86400, "state_range": {"\"false\"": [{"max": 300}]}, "raise_anomaly": true, "enable_streaming": false, "enable_anomaly_logging": false}}, {"inputs": {"in": "TX RX 1Mbps Deviation - Real Time"}, "type": "accumulate", "name": "TX RX 1Mbps Deviation History", "outputs": {"out": "TX RX 1Mbps Deviation History"}, "properties": {"enable_streaming": false, "max_samples": 1024, "graph_query": [], "total_duration": 0}}], "stages": [{"name": "Per Switch Total TX bps - Real Time-v1", "enable_metric_logging": true, "retention_duration": 3600}, {"name": "Per Switch Total TX bps - Real Time-v2", "enable_metric_logging": true, "retention_duration": 60}, {"name": "TX RX 1Mbps Deviation - 5 Minutes Sustained", "retention_duration": 86400}, {"name": "Per Interface TX bps - Real Time", "retention_duration": 86400}, {"name": "Per Switch Total RX bps - Real Time -v2", "enable_metric_logging": true, "retention_duration": 60}, {"name": "Per Interface RX bps - Real Time", "retention_duration": 86400}, {"name": "Per Switch Total RX bps - Real Time -v1 ", "enable_metric_logging": true, "retention_duration": 3600}, {"name": "TX RX 1Mbps Deviation History", "retention_duration": 86400}, {"name": "TX RX 1Mbps Deviation - 1 Minute Sustained", "retention_duration": 86400}, {"name": "TX RX Difference - Real Time", "retention_duration": 86400}, {"name": "TX RX 1Mbps Deviation - Real Time", "retention_duration": 86400}], "disabled": true}