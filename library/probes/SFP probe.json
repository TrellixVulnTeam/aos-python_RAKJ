{"label": "Layer1 - SFP probe", "processors": [{"inputs": {}, "type": "generic_data_collector", "name": "Interface transceiver media_type data", "outputs": {"out": "media_type"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['leaf', 'spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "data_type": "ts", "service_interval": "120", "service_name": "sfp", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'%s|%s' % (interface.if_name, 'media_type')", "enable_streaming": false, "interface_desc": "str(interface.description)", "interface": "str(interface.if_name)"}}, {"inputs": {}, "type": "generic_data_collector", "name": "Interface transceiver rx_power data", "outputs": {"out": "rx_power"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['leaf', 'spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "data_type": "ts", "service_interval": "120", "service_name": "sfp", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'%s|%s' % (interface.if_name, 'rx_power')", "enable_streaming": false, "interface_desc": "str(interface.description)", "interface": "str(interface.if_name)"}}, {"inputs": {}, "type": "generic_data_collector", "name": "Interface transceiver rx_power_has_warn data", "outputs": {"out": "rx_power_has_warn"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['leaf', 'spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "data_type": "dss", "service_interval": "120", "service_name": "sfp", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'%s|%s' % (interface.if_name, 'rx_power_has_warn')", "enable_streaming": false, "interface_desc": "str(interface.description)", "interface": "str(interface.if_name)", "value_map": {"0": "missing", "1": "in_threshold", "2": "exceeds_threshold"}}}, {"inputs": {}, "type": "generic_data_collector", "name": "Interface transceiver temperature data", "outputs": {"out": "temperature"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['leaf', 'spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "data_type": "ts", "service_interval": "120", "service_name": "sfp", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'%s|%s' % (interface.if_name, 'temperature')", "enable_streaming": false, "interface_desc": "str(interface.description)", "interface": "str(interface.if_name)"}}, {"inputs": {}, "type": "generic_data_collector", "name": "Interface transceiver temperature_has_warn data", "outputs": {"out": "temperature_has_warn"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['leaf', 'spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "data_type": "dss", "service_interval": "120", "service_name": "sfp", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'%s|%s' % (interface.if_name, 'temperature_has_warn')", "enable_streaming": false, "interface_desc": "str(interface.description)", "interface": "str(interface.if_name)", "value_map": {"0": "missing", "1": "in_threshold", "2": "exceeds_threshold"}}}, {"inputs": {}, "type": "generic_data_collector", "name": "Interface transceiver tx_bias data", "outputs": {"out": "tx_bias"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['leaf', 'spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "data_type": "ts", "service_interval": "120", "service_name": "sfp", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'%s|%s' % (interface.if_name, 'tx_bias')", "enable_streaming": false, "interface_desc": "str(interface.description)", "interface": "str(interface.if_name)"}}, {"inputs": {}, "type": "generic_data_collector", "name": "Interface transceiver tx_bias_has_warn data", "outputs": {"out": "tx_bias_has_warn"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['leaf', 'spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "data_type": "dss", "service_interval": "120", "service_name": "sfp", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'%s|%s' % (interface.if_name, 'tx_bias_has_warn')", "enable_streaming": false, "interface_desc": "str(interface.description)", "interface": "str(interface.if_name)", "value_map": {"0": "missing", "1": "in_threshold", "2": "exceeds_threshold"}}}, {"inputs": {}, "type": "generic_data_collector", "name": "Interface transceiver tx_power data", "outputs": {"out": "tx_power"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['leaf', 'spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "data_type": "ts", "service_interval": "120", "service_name": "sfp", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'%s|%s' % (interface.if_name, 'tx_power')", "enable_streaming": false, "interface_desc": "str(interface.description)", "interface": "str(interface.if_name)"}}, {"inputs": {}, "type": "generic_data_collector", "name": "Interface transceiver tx_power_has_warn data", "outputs": {"out": "tx_power_has_warn"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['leaf', 'spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "data_type": "dss", "service_interval": "120", "service_name": "sfp", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'%s|%s' % (interface.if_name, 'tx_power_has_warn')", "enable_streaming": false, "interface_desc": "str(interface.description)", "interface": "str(interface.if_name)", "value_map": {"0": "missing", "1": "in_threshold", "2": "exceeds_threshold"}}}, {"inputs": {}, "type": "generic_data_collector", "name": "Interface transceiver vendor_sn data", "outputs": {"out": "vendor_sn"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['leaf', 'spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "data_type": "ts", "service_interval": "120", "service_name": "sfp", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'%s|%s' % (interface.if_name, 'vendor_sn')", "enable_streaming": false, "interface_desc": "str(interface.description)", "interface": "str(interface.if_name)"}}, {"inputs": {}, "type": "generic_data_collector", "name": "Interface transceiver voltage data", "outputs": {"out": "voltage"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['leaf', 'spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "data_type": "ts", "service_interval": "120", "service_name": "sfp", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'%s|%s' % (interface.if_name, 'voltage')", "enable_streaming": false, "interface_desc": "str(interface.description)", "interface": "str(interface.if_name)"}}, {"inputs": {}, "type": "generic_data_collector", "name": "Interface transceiver voltage_has_warn data", "outputs": {"out": "voltage_has_warn"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['leaf', 'spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "data_type": "dss", "service_interval": "120", "service_name": "sfp", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'%s|%s' % (interface.if_name, 'voltage_has_warn')", "enable_streaming": false, "interface_desc": "str(interface.description)", "interface": "str(interface.if_name)", "value_map": {"0": "missing", "1": "in_threshold", "2": "exceeds_threshold"}}}, {"inputs": {}, "type": "generic_data_collector", "name": "Interface transceiver wave_length data", "outputs": {"out": "wave_length"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['leaf', 'spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "data_type": "ts", "service_interval": "120", "service_name": "sfp", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'%s|%s' % (interface.if_name, 'wave_length')", "enable_streaming": false, "interface_desc": "str(interface.description)", "interface": "str(interface.if_name)"}}, {"inputs": {"in": "rx_power_has_warn"}, "type": "range_check", "name": "Check if rx_power_has_warn ", "outputs": {"out": "rx_power_has_warn_is_true"}, "properties": {"graph_query": [], "anomaly_retention_size": 1073741824, "anomaly_retention_duration": 86400, "range": {"min": 2}, "raise_anomaly": true, "enable_streaming": false, "property": "value", "enable_anomaly_logging": false}}, {"inputs": {"in": "temperature_has_warn"}, "type": "range_check", "name": "Check if temperature_has_warn ", "outputs": {"out": "temperature_has_warn_is_true"}, "properties": {"graph_query": [], "anomaly_retention_size": 1073741824, "anomaly_retention_duration": 86400, "range": {"min": 2}, "raise_anomaly": true, "enable_streaming": false, "property": "value", "enable_anomaly_logging": false}}, {"inputs": {"in": "tx_bias_has_warn"}, "type": "range_check", "name": "Check if tx_bias_has_warn ", "outputs": {"out": "tx_bias_has_warn_is_true"}, "properties": {"graph_query": [], "anomaly_retention_size": 1073741824, "anomaly_retention_duration": 86400, "range": {"min": 2}, "raise_anomaly": true, "enable_streaming": false, "property": "value", "enable_anomaly_logging": false}}, {"inputs": {"in": "tx_power_has_warn"}, "type": "range_check", "name": "Check if tx_power_has_warn ", "outputs": {"out": "tx_power_has_warn_is_true"}, "properties": {"graph_query": [], "anomaly_retention_size": 1073741824, "anomaly_retention_duration": 86400, "range": {"min": 2}, "raise_anomaly": true, "enable_streaming": false, "property": "value", "enable_anomaly_logging": false}}, {"inputs": {"in": "voltage_has_warn"}, "type": "range_check", "name": "Check if voltage_has_warn ", "outputs": {"out": "voltage_has_warn_is_true"}, "properties": {"graph_query": [], "anomaly_retention_size": 1073741824, "anomaly_retention_duration": 86400, "range": {"min": 2}, "raise_anomaly": true, "enable_streaming": false, "property": "value", "enable_anomaly_logging": false}}], "stages": [{"name": "wave_length", "enable_metric_logging": true, "retention_duration": 3600}, {"name": "tx_power_has_warn", "retention_duration": 86400}, {"name": "temperature_has_warn_is_true", "retention_duration": 86400}, {"name": "temperature", "enable_metric_logging": true, "retention_duration": 3600}, {"name": "tx_bias_has_warn_is_true", "retention_duration": 86400}, {"name": "rx_power_has_warn", "retention_duration": 86400}, {"name": "voltage_has_warn", "retention_duration": 86400}, {"name": "vendor_sn", "enable_metric_logging": true, "retention_duration": 3600}, {"name": "tx_bias_has_warn", "retention_duration": 86400}, {"name": "tx_power_has_warn_is_true", "retention_duration": 86400}, {"name": "voltage_has_warn_is_true", "retention_duration": 86400}, {"name": "voltage", "enable_metric_logging": true, "retention_duration": 3600}, {"name": "tx_power", "enable_metric_logging": true, "retention_duration": 3600}, {"name": "temperature_has_warn", "retention_duration": 86400}, {"name": "rx_power", "enable_metric_logging": true, "retention_duration": 3600}, {"name": "media_type", "enable_metric_logging": true, "retention_duration": 3600}, {"name": "tx_bias", "enable_metric_logging": true, "retention_duration": 3600}, {"name": "rx_power_has_warn_is_true", "retention_duration": 86400}], "disabled": true}