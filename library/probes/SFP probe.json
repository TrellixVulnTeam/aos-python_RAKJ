{"label": "Layer1 - SFP probe", "processors": [{"inputs": {}, "type": "generic_data_collector", "name": "Interface transceiver media_type data", "outputs": {"out": "media_type"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['leaf', 'spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "data_type": "ts", "service_interval": "120", "service_name": "sfp", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'%s|%s' % (interface.if_name, 'media_type')", "enable_streaming": false, "interface_desc": "interface.description", "interface": "interface.if_name"}}, {"inputs": {}, "type": "generic_data_collector", "name": "Interface transceiver rx_power data", "outputs": {"out": "rx_power"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['leaf', 'spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "data_type": "ts", "service_interval": "120", "service_name": "sfp", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'%s|%s' % (interface.if_name, 'rx_power')", "enable_streaming": false, "interface_desc": "interface.description", "interface": "interface.if_name"}}, {"inputs": {}, "type": "generic_data_collector", "name": "Interface transceiver rx_power_has_warn data", "outputs": {"out": "rx_power_has_warn"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['leaf', 'spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "data_type": "dss", "service_interval": "120", "service_name": "sfp", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'%s|%s' % (interface.if_name, 'rx_power_has_warn')", "enable_streaming": false, "interface_desc": "interface.description", "interface": "interface.if_name", "value_map": {"0": "missing", "1": "in_threshold", "2": "exceeds_threshold"}}}, {"inputs": {}, "type": "generic_data_collector", "name": "Interface transceiver temperature data", "outputs": {"out": "temperature"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['leaf', 'spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "data_type": "ts", "service_interval": "120", "service_name": "sfp", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'%s|%s' % (interface.if_name, 'temperature')", "enable_streaming": false, "interface_desc": "interface.description", "interface": "interface.if_name"}}, {"inputs": {}, "type": "generic_data_collector", "name": "Interface transceiver temperature_has_warn data", "outputs": {"out": "temperature_has_warn"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['leaf', 'spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "data_type": "dss", "service_interval": "120", "service_name": "sfp", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'%s|%s' % (interface.if_name, 'temperature_has_warn')", "enable_streaming": false, "interface_desc": "interface.description", "interface": "interface.if_name", "value_map": {"0": "missing", "1": "in_threshold", "2": "exceeds_threshold"}}}, {"inputs": {}, "type": "generic_data_collector", "name": "Interface transceiver tx_bias data", "outputs": {"out": "tx_bias"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['leaf', 'spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "data_type": "ts", "service_interval": "120", "service_name": "sfp", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'%s|%s' % (interface.if_name, 'tx_bias')", "enable_streaming": false, "interface_desc": "interface.description", "interface": "interface.if_name"}}, {"inputs": {}, "type": "generic_data_collector", "name": "Interface transceiver tx_bias_has_warn data", "outputs": {"out": "tx_bias_has_warn"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['leaf', 'spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "data_type": "dss", "service_interval": "120", "service_name": "sfp", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'%s|%s' % (interface.if_name, 'tx_bias_has_warn')", "enable_streaming": false, "interface_desc": "interface.description", "interface": "interface.if_name", "value_map": {"0": "missing", "1": "in_threshold", "2": "exceeds_threshold"}}}, {"inputs": {}, "type": "generic_data_collector", "name": "Interface transceiver tx_power data", "outputs": {"out": "tx_power"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['leaf', 'spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "data_type": "ts", "service_interval": "120", "service_name": "sfp", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'%s|%s' % (interface.if_name, 'tx_power')", "enable_streaming": false, "interface_desc": "interface.description", "interface": "interface.if_name"}}, {"inputs": {}, "type": "generic_data_collector", "name": "Interface transceiver tx_power_has_warn data", "outputs": {"out": "tx_power_has_warn"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['leaf', 'spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "data_type": "dss", "service_interval": "120", "service_name": "sfp", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'%s|%s' % (interface.if_name, 'tx_power_has_warn')", "enable_streaming": false, "interface_desc": "interface.description", "interface": "interface.if_name", "value_map": {"0": "missing", "1": "in_threshold", "2": "exceeds_threshold"}}}, {"inputs": {}, "type": "generic_data_collector", "name": "Interface transceiver vendor_sn data", "outputs": {"out": "vendor_sn"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['leaf', 'spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "data_type": "ts", "service_interval": "120", "service_name": "sfp", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'%s|%s' % (interface.if_name, 'vendor_sn')", "enable_streaming": false, "interface_desc": "interface.description", "interface": "interface.if_name"}}, {"inputs": {}, "type": "generic_data_collector", "name": "Interface transceiver voltage data", "outputs": {"out": "voltage"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['leaf', 'spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "data_type": "ts", "service_interval": "120", "service_name": "sfp", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'%s|%s' % (interface.if_name, 'voltage')", "enable_streaming": false, "interface_desc": "interface.description", "interface": "interface.if_name"}}, {"inputs": {}, "type": "generic_data_collector", "name": "Interface transceiver voltage_has_warn data", "outputs": {"out": "voltage_has_warn"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['leaf', 'spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "data_type": "dss", "service_interval": "120", "service_name": "sfp", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'%s|%s' % (interface.if_name, 'voltage_has_warn')", "enable_streaming": false, "interface_desc": "interface.description", "interface": "interface.if_name", "value_map": {"0": "missing", "1": "in_threshold", "2": "exceeds_threshold"}}}, {"inputs": {}, "type": "generic_data_collector", "name": "Interface transceiver wave_length data", "outputs": {"out": "wave_length"}, "properties": {"graph_query": "match(node('system', name='system', system_id=not_none(), deploy_mode='deploy', role=is_in(['leaf', 'spine'])).out('hosted_interfaces').node('interface', if_type=is_in(['ip','ethernet']), name='interface'))", "data_type": "ts", "service_interval": "120", "service_name": "sfp", "execution_count": "-1", "system_id": "system.system_id", "service_input": "\"\"", "key": "'%s|%s' % (interface.if_name, 'wave_length')", "enable_streaming": false, "interface_desc": "interface.description", "interface": "interface.if_name"}}, {"inputs": {"in": "rx_power_has_warn"}, "type": "range_check", "name": "Check if rx_power_has_warn ", "outputs": {"out": "rx_power_has_warn_is_true"}, "properties": {"enable_streaming": false, "property": "value", "range": {"min": 2}, "raise_anomaly": true, "graph_query": []}}, {"inputs": {"in": "temperature_has_warn"}, "type": "range_check", "name": "Check if temperature_has_warn ", "outputs": {"out": "temperature_has_warn_is_true"}, "properties": {"enable_streaming": false, "property": "value", "range": {"min": 2}, "raise_anomaly": true, "graph_query": []}}, {"inputs": {"in": "tx_bias_has_warn"}, "type": "range_check", "name": "Check if tx_bias_has_warn ", "outputs": {"out": "tx_bias_has_warn_is_true"}, "properties": {"enable_streaming": false, "property": "value", "range": {"min": 2}, "raise_anomaly": true, "graph_query": []}}, {"inputs": {"in": "tx_power_has_warn"}, "type": "range_check", "name": "Check if tx_power_has_warn ", "outputs": {"out": "tx_power_has_warn_is_true"}, "properties": {"enable_streaming": false, "property": "value", "range": {"min": 2}, "raise_anomaly": true, "graph_query": []}}, {"inputs": {"in": "voltage_has_warn"}, "type": "range_check", "name": "Check if voltage_has_warn ", "outputs": {"out": "voltage_has_warn_is_true"}, "properties": {"enable_streaming": false, "property": "value", "range": {"min": 2}, "raise_anomaly": true, "graph_query": []}}, {"inputs": {"in": "rx_power_has_warn_is_true"}, "type": "accumulate", "name": "Anomaly history of rx_power_has_warn", "outputs": {"out": "rx_power_has_warn_anomaly_history"}, "properties": {"enable_streaming": false, "max_samples": 50, "graph_query": [], "total_duration": 0}}, {"inputs": {"in": "temperature_has_warn_is_true"}, "type": "accumulate", "name": "Anomaly history of temperature_has_warn", "outputs": {"out": "temperature_has_warn_anomaly_history"}, "properties": {"enable_streaming": false, "max_samples": 50, "graph_query": [], "total_duration": 0}}, {"inputs": {"in": "tx_bias_has_warn_is_true"}, "type": "accumulate", "name": "Anomaly history of tx_bias_has_warn", "outputs": {"out": "tx_bias_has_warn_anomaly_history"}, "properties": {"enable_streaming": false, "max_samples": 50, "graph_query": [], "total_duration": 0}}, {"inputs": {"in": "tx_power_has_warn_is_true"}, "type": "accumulate", "name": "Anomaly history of tx_power_has_warn", "outputs": {"out": "tx_power_has_warn_anomaly_history"}, "properties": {"enable_streaming": false, "max_samples": 50, "graph_query": [], "total_duration": 0}}, {"inputs": {"in": "voltage_has_warn_is_true"}, "type": "accumulate", "name": "Anomaly history of voltage_has_warn", "outputs": {"out": "voltage_has_warn_anomaly_history"}, "properties": {"enable_streaming": false, "max_samples": 50, "graph_query": [], "total_duration": 0}}], "disabled": true}